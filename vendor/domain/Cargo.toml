# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
rust-version = "1.68.2"
name = "domain"
version = "0.10.4"
authors = ["NLnet Labs <dns-team@nlnetlabs.nl>"]
build = false
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "A DNS library for Rust."
homepage = "https://github.com/nlnetlabs/domain/"
documentation = "https://docs.rs/domain"
readme = "README.md"
keywords = [
    "DNS",
    "domain",
]
license = "BSD-3-Clause"
repository = "https://github.com/nlnetlabs/domain/"

[package.metadata.docs.rs]
all-features = true
rustdoc-args = [
    "--cfg",
    "docsrs",
]

[features]
bytes = [
    "dep:bytes",
    "octseq/bytes",
]
default = [
    "std",
    "rand",
]
heapless = [
    "dep:heapless",
    "octseq/heapless",
]
net = [
    "bytes",
    "futures-util",
    "rand",
    "std",
    "tokio",
]
resolv = [
    "net",
    "smallvec",
    "unstable-client-transport",
]
resolv-sync = [
    "resolv",
    "tokio/rt",
]
serde = [
    "dep:serde",
    "octseq/serde",
]
sign = ["std"]
smallvec = [
    "dep:smallvec",
    "octseq/smallvec",
]
std = [
    "bytes?/std",
    "octseq/std",
    "time/std",
]
tsig = [
    "bytes",
    "ring",
    "smallvec",
]
unstable-client-transport = [
    "moka",
    "net",
    "tracing",
]
unstable-server-transport = [
    "arc-swap",
    "chrono/clock",
    "libc",
    "net",
    "siphasher",
    "tracing",
]
unstable-stelline = [
    "tokio/test-util",
    "tracing",
    "tracing-subscriber",
    "tsig",
    "unstable-client-transport",
    "unstable-server-transport",
    "zonefile",
]
unstable-validator = [
    "validate",
    "zonefile",
    "unstable-client-transport",
]
unstable-xfr = ["net"]
unstable-zonetree = [
    "futures-util",
    "parking_lot",
    "rustversion",
    "serde",
    "std",
    "tokio",
    "tracing",
    "unstable-xfr",
    "zonefile",
]
validate = [
    "bytes",
    "std",
    "ring",
]
zonefile = [
    "bytes",
    "serde",
    "std",
]

[lib]
name = "domain"
path = "src/lib.rs"

[[example]]
name = "client"
path = "examples/client.rs"
required-features = [
    "std",
    "rand",
]

[[example]]
name = "client-transports"
path = "examples/client-transports.rs"
required-features = [
    "net",
    "unstable-client-transport",
]

[[example]]
name = "download-rust-lang"
path = "examples/download-rust-lang.rs"
required-features = ["resolv"]

[[example]]
name = "ixfr-client"
path = "examples/ixfr-client.rs"
required-features = [
    "zonefile",
    "net",
    "unstable-client-transport",
    "unstable-zonetree",
]

[[example]]
name = "lookup"
path = "examples/lookup.rs"
required-features = ["resolv"]

[[example]]
name = "query-zone"
path = "examples/query-zone.rs"
required-features = [
    "zonefile",
    "unstable-zonetree",
]

[[example]]
name = "read-zone"
path = "examples/read-zone.rs"
required-features = ["zonefile"]

[[example]]
name = "resolv-sync"
path = "examples/resolv-sync.rs"
required-features = ["resolv-sync"]

[[example]]
name = "serve-zone"
path = "examples/serve-zone.rs"
required-features = [
    "zonefile",
    "net",
    "unstable-server-transport",
    "unstable-zonetree",
]

[[example]]
name = "server-transports"
path = "examples/server-transports.rs"
required-features = [
    "net",
    "unstable-server-transport",
]

[[test]]
name = "interop"
path = "tests/interop.rs"

[[test]]
name = "net-client"
path = "tests/net-client.rs"

[[test]]
name = "net-client-cache"
path = "tests/net-client-cache.rs"

[dependencies.arc-swap]
version = "1.7.0"
optional = true

[dependencies.bytes]
version = "1.0"
optional = true
default-features = false

[dependencies.chrono]
version = "0.4.35"
optional = true
default-features = false

[dependencies.futures-util]
version = "0.3"
optional = true

[dependencies.heapless]
version = "0.8"
optional = true

[dependencies.libc]
version = "0.2.153"
optional = true
default-features = false

[dependencies.moka]
version = "0.12.3"
features = ["future"]
optional = true

[dependencies.octseq]
version = "0.5.2"
default-features = false

[dependencies.parking_lot]
version = "0.12"
optional = true

[dependencies.proc-macro2]
version = "1.0.69"
optional = true

[dependencies.rand]
version = "0.8"
optional = true

[dependencies.ring]
version = "0.17"
optional = true

[dependencies.rustversion]
version = "1"
optional = true

[dependencies.serde]
version = "1.0.130"
features = ["derive"]
optional = true

[dependencies.siphasher]
version = "1"
optional = true

[dependencies.smallvec]
version = "1.3"
optional = true

[dependencies.time]
version = "0.3.1"
default-features = false

[dependencies.tokio]
version = "1.33"
features = [
    "io-util",
    "macros",
    "net",
    "time",
    "sync",
    "rt-multi-thread",
]
optional = true

[dependencies.tokio-rustls]
version = "0.26"
optional = true
default-features = false

[dependencies.tokio-stream]
version = "0.1.1"
optional = true

[dependencies.tracing]
version = "0.1.40"
optional = true

[dependencies.tracing-subscriber]
version = "0.3.18"
features = ["env-filter"]
optional = true

[dev-dependencies.lazy_static]
version = "1.4.0"

[dev-dependencies.mock_instant]
version = "0.5.1"

[dev-dependencies.rstest]
version = "0.19.0"

[dev-dependencies.rustls-pemfile]
version = "2.1.2"

[dev-dependencies.serde_json]
version = "1.0.113"

[dev-dependencies.serde_test]
version = "1.0.130"

[dev-dependencies.serde_yaml]
version = "0.9"

[dev-dependencies.socket2]
version = "0.5.5"

[dev-dependencies.tokio]
version = "1.37"
features = [
    "rt-multi-thread",
    "io-util",
    "net",
    "test-util",
]

[dev-dependencies.tokio-rustls]
version = "0.26"
features = [
    "ring",
    "logging",
    "tls12",
]
default-features = false

[dev-dependencies.tokio-test]
version = "0.4"

[dev-dependencies.tokio-tfo]
version = "0.2.0"

[dev-dependencies.webpki-roots]
version = "0.26"
